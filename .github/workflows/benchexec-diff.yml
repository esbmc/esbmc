name: Generate diff page for benchexec artifacts
on:
  workflow_dispatch:
    inputs:
      workflow-id:
        description: 'Workflow ID for run to be validated'
        required: true
      timeout:
        description: 'Timeout for each benchmarks (in seconds)'
        required: true
        default: '30'
      svbenchmarks:
        description: 'Git branch, tag, or commit of SV-Benchmarks to use'
        required: true
        default: 'svcomp23'      	
      mode:
        type: choice
        description: Benchexec run mode
        options:
        - Full
        - Task
        - RunSet
      runset:
        type: choice
        description: Run-set to use (be sure to set mode to "RunSet")
        options:
        - SV-COMP23_unreach-call
        - SV-COMP23_no-data-race
        - SV-COMP23_valid-memcleanup
        - SV-COMP23_valid-memsafety
        - SV-COMP23_termination
        - SV-COMP23_no-overflow
      task:
        type: choice
        description: Task to use Run-set to use (be sure to set mode to "Task")
        options:
        - ReachSafety-Arrays
        - ReachSafety-BitVectors
        - ReachSafety-ControlFlow
        - ReachSafety-ECA
        - ReachSafety-Floats
        - ReachSafety-Heap
        - ReachSafety-Loops
        - ReachSafety-ProductLines
        - ReachSafety-Recursive
        - ReachSafety-Sequentialized
        - ReachSafety-XCSP
        - ReachSafety-Combinations
        - ReachSafety-Hardware
        - ConcurrencySafety-Main
        - ConcurrencySafety-MemSafety
        - ConcurrencySafety-NoOverflows
        - NoDataRace-Main
        - NoOverflows-Main
        - NoOverflows-Juliet
        - MemSafety-MemCleanup
        - MemSafety-Arrays
        - MemSafety-Heap
        - MemSafety-LinkedLists
        - MemSafety-Other
        - MemSafety-Juliet
        - SoftwareSystems-AWS-C-Common-ReachSafety
        - SoftwareSystems-BusyBox-ReachSafety
        - SoftwareSystems-BusyBox-MemSafety
        - SoftwareSystems-BusyBox-NoOverflows
        - SoftwareSystems-coreutils-ReachSafety
        - SoftwareSystems-coreutils-MemSafety
        - SoftwareSystems-coreutils-NoOverflows
        - SoftwareSystems-DeviceDriversLinux64-ReachSafety
        - SoftwareSystems-DeviceDriversLinux64-MemSafety
        - SoftwareSystems-DeviceDriversLinux64Large-ReachSafety
        - SoftwareSystems-DeviceDriversLinux64-MemSafety
        - SoftwareSystems-uthash-ReachSafety
        - SoftwareSystems-uthash-MemSafety
        - SoftwareSystems-uthash-NoOverflows
        - SoftwareSystems-OpenBSD-MemSafety
        - Termination-BitVectors
        - Termination-MainControlFlow
        - Termination-MainHeap
        - Termination-Other
jobs:
  witness-validation:
    runs-on: ['self-hosted', 'Linux', 'x64', 'benchexec']
    timeout-minutes: 12000
    steps:
    - name: Checkout code
      uses: actions/checkout@master
      with:
        path: esbmc-src
    - name: Try thing
      run: ./esbmc-src/scripts/witness.sh
