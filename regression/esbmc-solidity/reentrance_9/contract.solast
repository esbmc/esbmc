JSON AST (compact format):


======= contract.sol =======
{"absolutePath":"contract.sol","exportedSymbols":{"Bank":[49],"Reproduction":[94]},"id":95,"license":"GPL-3.0","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity",">=","0.5",".0"],"nodeType":"PragmaDirective","src":"36:24:0"},{"abstract":false,"baseContracts":[],"canonicalName":"Bank","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":49,"linearizedBaseContracts":[49],"name":"Bank","nameLocation":"70:4:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":4,"mutability":"mutable","name":"mutex","nameLocation":"86:5:0","nodeType":"VariableDeclaration","scope":49,"src":"81:18:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2,"name":"bool","nodeType":"ElementaryTypeName","src":"81:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":{"hexValue":"66616c7365","id":3,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"94:5:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"visibility":"internal"},{"body":{"id":47,"nodeType":"Block","src":"143:353:0","statements":[{"assignments":[11],"declarations":[{"constant":false,"id":11,"mutability":"mutable","name":"old_contract_balance","nameLocation":"205:20:0","nodeType":"VariableDeclaration","scope":47,"src":"200:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":10,"name":"uint","nodeType":"ElementaryTypeName","src":"200:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"documentation":"@custom:preghost function withdraw","id":17,"initialValue":{"expression":{"arguments":[{"id":14,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"236:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}],"id":13,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"228:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":12,"name":"address","nodeType":"ElementaryTypeName","src":"228:7:0","typeDescriptions":{}}},"id":15,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"228:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"242:7:0","memberName":"balance","nodeType":"MemberAccess","src":"228:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"200:49:0"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":25,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":21,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"276:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}],"id":20,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"268:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":19,"name":"address","nodeType":"ElementaryTypeName","src":"268:7:0","typeDescriptions":{}}},"id":22,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"268:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":23,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"282:7:0","memberName":"balance","nodeType":"MemberAccess","src":"268:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3130","id":24,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"293:2:0","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"src":"268:27:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":18,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18,-18],"referencedDeclaration":-18,"src":"260:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":26,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"260:36:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":27,"nodeType":"ExpressionStatement","src":"260:36:0"},{"assignments":[29,null],"declarations":[{"constant":false,"id":29,"mutability":"mutable","name":"success","nameLocation":"313:7:0","nodeType":"VariableDeclaration","scope":47,"src":"308:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":28,"name":"bool","nodeType":"ElementaryTypeName","src":"308:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":37,"initialValue":{"arguments":[{"hexValue":"","id":35,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"353:2:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \"\""}],"expression":{"expression":{"id":30,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"326:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":31,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"330:6:0","memberName":"sender","nodeType":"MemberAccess","src":"326:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":32,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"337:4:0","memberName":"call","nodeType":"MemberAccess","src":"326:15:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":34,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["value"],"nodeType":"FunctionCallOptions","options":[{"hexValue":"3130","id":33,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"349:2:0","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"}],"src":"326:26:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$value","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":36,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"326:30:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"307:49:0"},{"assignments":[40],"declarations":[{"constant":false,"id":40,"mutability":"mutable","name":"new_contract_balance","nameLocation":"445:20:0","nodeType":"VariableDeclaration","scope":47,"src":"440:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":39,"name":"uint","nodeType":"ElementaryTypeName","src":"440:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"documentation":"@custom:postghost function withdraw","id":46,"initialValue":{"expression":{"arguments":[{"id":43,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"476:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}],"id":42,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"468:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":41,"name":"address","nodeType":"ElementaryTypeName","src":"468:7:0","typeDescriptions":{}}},"id":44,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"468:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":45,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"482:7:0","memberName":"balance","nodeType":"MemberAccess","src":"468:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"440:49:0"}]},"functionSelector":"2e1a7d4d","id":48,"implemented":true,"kind":"function","modifiers":[],"name":"withdraw","nameLocation":"114:8:0","nodeType":"FunctionDefinition","parameters":{"id":7,"nodeType":"ParameterList","parameters":[{"constant":false,"id":6,"mutability":"mutable","name":"amount","nameLocation":"128:6:0","nodeType":"VariableDeclaration","scope":48,"src":"123:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":5,"name":"uint","nodeType":"ElementaryTypeName","src":"123:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"122:13:0"},"returnParameters":{"id":8,"nodeType":"ParameterList","parameters":[],"src":"143:0:0"},"scope":49,"src":"105:391:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":95,"src":"61:437:0","usedErrors":[],"usedEvents":[]},{"abstract":false,"baseContracts":[],"canonicalName":"Reproduction","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":94,"linearizedBaseContracts":[94],"name":"Reproduction","nameLocation":"509:12:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"functionSelector":"d4b83992","id":52,"mutability":"mutable","name":"target","nameLocation":"540:6:0","nodeType":"VariableDeclaration","scope":94,"src":"528:18:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"},"typeName":{"id":51,"nodeType":"UserDefinedTypeName","pathNode":{"id":50,"name":"Bank","nameLocations":["528:4:0"],"nodeType":"IdentifierPath","referencedDeclaration":49,"src":"528:4:0"},"referencedDeclaration":49,"src":"528:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"visibility":"public"},{"constant":false,"functionSelector":"8da5cb5b","id":54,"mutability":"mutable","name":"owner","nameLocation":"567:5:0","nodeType":"VariableDeclaration","scope":94,"src":"552:20:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":53,"name":"address","nodeType":"ElementaryTypeName","src":"552:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"body":{"id":70,"nodeType":"Block","src":"608:67:0","statements":[{"expression":{"id":63,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":59,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"618:6:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":61,"name":"_target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56,"src":"632:7:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":60,"name":"Bank","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":49,"src":"627:4:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Bank_$49_$","typeString":"type(contract Bank)"}},"id":62,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"627:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"src":"618:22:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"id":64,"nodeType":"ExpressionStatement","src":"618:22:0"},{"expression":{"id":68,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":65,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":54,"src":"650:5:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":66,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"658:3:0","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"662:6:0","memberName":"sender","nodeType":"MemberAccess","src":"658:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"650:18:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":69,"nodeType":"ExpressionStatement","src":"650:18:0"}]},"id":71,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":57,"nodeType":"ParameterList","parameters":[{"constant":false,"id":56,"mutability":"mutable","name":"_target","nameLocation":"599:7:0","nodeType":"VariableDeclaration","scope":71,"src":"591:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":55,"name":"address","nodeType":"ElementaryTypeName","src":"591:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"590:17:0"},"returnParameters":{"id":58,"nodeType":"ParameterList","parameters":[],"src":"608:0:0"},"scope":94,"src":"579:96:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":82,"nodeType":"Block","src":"720:40:0","statements":[{"expression":{"arguments":[{"id":79,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73,"src":"746:6:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":76,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"730:6:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"id":78,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"737:8:0","memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":48,"src":"730:15:0","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":80,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"730:23:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":81,"nodeType":"ExpressionStatement","src":"730:23:0"}]},"functionSelector":"ed684cc6","id":83,"implemented":true,"kind":"function","modifiers":[],"name":"trigger","nameLocation":"690:7:0","nodeType":"FunctionDefinition","parameters":{"id":74,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73,"mutability":"mutable","name":"amount","nameLocation":"703:6:0","nodeType":"VariableDeclaration","scope":83,"src":"698:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72,"name":"uint","nodeType":"ElementaryTypeName","src":"698:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"697:13:0"},"returnParameters":{"id":75,"nodeType":"ParameterList","parameters":[],"src":"720:0:0"},"scope":94,"src":"681:79:0","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"body":{"id":92,"nodeType":"Block","src":"793:36:0","statements":[{"expression":{"arguments":[{"hexValue":"3130","id":89,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"819:2:0","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"}],"expression":{"id":86,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"803:6:0","typeDescriptions":{"typeIdentifier":"t_contract$_Bank_$49","typeString":"contract Bank"}},"id":88,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"810:8:0","memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":48,"src":"803:15:0","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":90,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"803:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":91,"nodeType":"ExpressionStatement","src":"803:19:0"}]},"id":93,"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":84,"nodeType":"ParameterList","parameters":[],"src":"773:2:0"},"returnParameters":{"id":85,"nodeType":"ParameterList","parameters":[],"src":"793:0:0"},"scope":94,"src":"766:63:0","stateMutability":"payable","virtual":false,"visibility":"external"}],"scope":95,"src":"500:331:0","usedErrors":[],"usedEvents":[]}],"src":"36:799:0"}